<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · StateSpaceModels.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">StateSpaceModels.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Manual</a><ul class="internal"><li><a class="tocitem" href="#Quick-Start-Guide"><span>Quick Start Guide</span></a></li><li><a class="tocitem" href="#Models"><span>Models</span></a></li><li><a class="tocitem" href="#Systems"><span>Systems</span></a></li><li><a class="tocitem" href="#Hyperparameters"><span>Hyperparameters</span></a></li><li><a class="tocitem" href="#Filters-and-smoothers"><span>Filters and smoothers</span></a></li><li><a class="tocitem" href="#Fitting-and-Optimizers"><span>Fitting and Optimizers</span></a></li><li><a class="tocitem" href="#Forecasting-and-simulating"><span>Forecasting and simulating</span></a></li><li><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li><a class="tocitem" href="#Datasets"><span>Datasets</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Manual</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/master/docs/src/manual.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Manual"><a class="docs-heading-anchor" href="#Manual">Manual</a><a id="Manual-1"></a><a class="docs-heading-anchor-permalink" href="#Manual" title="Permalink"></a></h1><h2 id="Quick-Start-Guide"><a class="docs-heading-anchor" href="#Quick-Start-Guide">Quick Start Guide</a><a id="Quick-Start-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start-Guide" title="Permalink"></a></h2><p>Although StateSpaceModels.jl has a lot of functionalities, different models and interfaces  users usuallly just want to fit a model and analyse the residuals, components and make some forecasts. The following code is a quick start to perform these tasks</p><pre><code class="language-julia">import Pkg

Pkg.add(&quot;StateSpaceModels&quot;)

using StateSpaceModels

y = randn(100)

model = LocalLevel(y)

fit!(model)

results(model)

forec = forecast(model, 10)

kf = kalman_filter(model)

v = get_innovations(kf)

ks = kalman_smoother(model)

alpha = get_smoothed_state(ks)

using Plots

plot(model, forec)

plotdiagnostics(kf)</code></pre><h2 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h2><p>The package provides a variaty of pre-defined models. If there is any model that you wish was in the package, feel free to open an issue or pull request.</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.UnobservedComponents" href="#StateSpaceModels.UnobservedComponents"><code>StateSpaceModels.UnobservedComponents</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">UnobservedComponents(
    y::Vector{Fl}; 
    trend::String = &quot;local level&quot;,
    seasonal::String = &quot;no&quot;
    cycle::String = &quot;no&quot;
) where Fl</code></pre><p>An unobserved components model that can have trend/level, seasonal and cycle components.  Each component should be specified by strings, if the component is not desired in the model  a string with &quot;no&quot; can be passed as keyword argument. </p><p>These models take the general form </p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
    y_t = \mu_t + \gamma_t + c_t + \varepsilon_t
    \end{aligned}
\end{gather*}\]</p><p>where <span>$y_t$</span> refers to the observation vector at time <span>$t$</span>, <span>$\mu_t$</span> refers to the trend component, <span>$\gamma_t$</span> refers to the seasonal component, <span>$c_t$</span> refers to the cycle, and <span>$\varepsilon_t$</span> is the irregular. The modeling details of these components are given below.</p><p><strong><strong>Trend</strong></strong></p><p>The trend component can be modeled in a lot of different ways, usually it is called level when there is no slope component. The modelling options can be expressed as in the example <code>trend = &quot;local level&quot;</code>.</p><ul><li>Local Level</li></ul><p>string: <code>&quot;local level&quot;</code></p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \varepsilon_{t} \quad \varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \eta_{t} \quad \eta_{t} \sim \mathcal{N}(0, \sigma^2_{\eta})\\
    \end{aligned}
\end{gather*}\]</p><ul><li>Random Walk</li></ul><p>string: <code>&quot;random walk&quot;</code></p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t}\\
        \mu_{t+1} &amp;= \mu_{t} + \eta_{t} \quad \eta_{t} \sim \mathcal{N}(0, \sigma^2_{\eta})\\
    \end{aligned}
\end{gather*}\]</p><ul><li>Local Linear Trend</li></ul><p>string: <code>&quot;local linear trend&quot;</code></p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \gamma_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \nu_{t} + \xi_{t} \quad &amp;\xi_{t} \sim \mathcal{N}(0, \sigma^2_{\xi})\\
        \nu_{t+1} &amp;= \nu_{t} + \zeta_{t} \quad &amp;\zeta_{t} \sim \mathcal{N}(0, \sigma^2_{\zeta})\\
    \end{aligned}
\end{gather*}\]</p><ul><li>Smooth Trend</li></ul><p>string: <code>&quot;smooth trend&quot;</code></p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \gamma_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \nu_{t}\\
        \nu_{t+1} &amp;= \nu_{t} + \zeta_{t} \quad &amp;\zeta_{t} \sim \mathcal{N}(0, \sigma^2_{\zeta})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Seasonal</strong></p><p>The seasonal component is modeled as:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
    \gamma_t = - \sum_{j=1}^{s-1} \gamma_{t+1-j} + \omega_t \quad \omega_t \sim N(0, \sigma^2_\omega)
    \end{aligned}
\end{gather*}\]</p><p>The periodicity (number of seasons) is s, and the defining character is that (without the error term), the seasonal components sum to zero across one complete cycle. The inclusion of an error term allows the seasonal effects to vary over time. The modelling options can be expressed in terms of <code>&quot;deterministic&quot;</code> or <code>&quot;stochastic&quot;</code> and the periodicity as a number in  the string, i.e., <code>seasonal = &quot;stochastic 12&quot;</code>.</p><p><strong>Cycle</strong></p><p>The cycle component is modeled as</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        c_{t+1} &amp;= \rho_c \left(c_{t} \cos(\lambda_c) + c_{t}^{*} \sin(\lambda_c)\right) \quad &amp; \tilde\omega_{t} \sim \mathcal{N}(0, \sigma^2_{\tilde\omega})\\
        c_{t+1}^{*} &amp;= \rho_c \left(-c_{t} \sin(\lambda_c) + c_{t}^{*} \sin(\lambda_c)\right) \quad &amp;\tilde\omega^*_{t} \sim \mathcal{N}(0, \sigma^2_{\tilde\omega})\\
    \end{aligned}
\end{gather*}\]</p><p>The cyclical component is intended to capture cyclical effects at time frames much longer  than captured by the seasonal component. The parameter <span>$\lambda_c$</span> is the frequency of the cycle and it is estimated via maximum likelihood. The inclusion of error terms allows the cycle effects to vary over time. The modelling options can be expressed in terms of <code>&quot;deterministic&quot;</code> or <code>&quot;stochastic&quot;</code> and the damping effect as a string, i.e.,  <code>cycle = &quot;stochastic&quot;</code>, <code>cycle = &quot;deterministic&quot;</code> or <code>cycle = &quot;damped&quot;</code>.</p><p>The UnobservedComponents model has some dedicated Plot Recipes, see <a href="#Visualization">Visualization</a></p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/unobserved_components.jl#L109-L230">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.SARIMA" href="#StateSpaceModels.SARIMA"><code>StateSpaceModels.SARIMA</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SARIMA(y::Vector{Fl}; order::Tuple{Int,Int,Int} = (1, 0, 0), 
                      seasonal_order::Tuple{Int, Int, Int, Int} = (0, 0, 0, 0),
                      include_mean::Bool = false) where Fl</code></pre><p>A SARIMA model (Seasonal AutoRegressive Integrated Moving Average) implemented within the state-space framework.</p><p>The SARIMA model is specified <span>$(p, d, q) \times (P, D, Q, s)$</span>. We can also consider a polynomial <span>$A(t)$</span> to  model a trend, here we only allow to add a constante term with the <code>include_mean</code> keyword argument.    </p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        \phi_p (L) \tilde \phi_P (L^s) \Delta^d \Delta_s^D y_t = A(t) + \theta_q (L) \tilde \theta_Q (L^s) \zeta_t
    \end{aligned}
\end{gather*}\]</p><p>In terms of a univariate structural model, this can be represented as</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
    y_t &amp; = u_t + \eta_t \\
    \phi_p (L) \tilde \phi_P (L^s) \Delta^d \Delta_s^D u_t &amp; = A(t) + \theta_q (L) \tilde \theta_Q (L^s) \zeta_t
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = SARIMA(rand(100); order=(1,1,1), seasonal_order=(1,2,3,12))
SARIMA(1, 1, 1)x(1, 2, 3, 12) model</code></pre><p>See more on <a href="../examples/#Airline-passengers">Airline passengers</a></p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/sarima.jl#L58-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.BasicStructural" href="#StateSpaceModels.BasicStructural"><code>StateSpaceModels.BasicStructural</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BasicStructural(y::Vector{Fl}, s::Int) where Fl</code></pre><p>The basic structural state-space model consists of a trend (level + slope) and a seasonal component. It is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \gamma_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \nu_{t} + \xi_{t} \quad &amp;\xi_{t} \sim \mathcal{N}(0, \sigma^2_{\xi})\\
        \nu_{t+1} &amp;= \nu_{t} + \zeta_{t} \quad &amp;\zeta_{t} \sim \mathcal{N}(0, \sigma^2_{\zeta})\\
        \gamma_{t+1} &amp;= -\sum_{j=1}^{s-1} \gamma_{t+1-j} + \omega_{t} \quad &amp; \omega_{t} \sim \mathcal{N}(0, \sigma^2_{\omega})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = BasicStructural(rand(100), 12)
BasicStructural model</code></pre><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/basicstructural.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LinearRegression" href="#StateSpaceModels.LinearRegression"><code>StateSpaceModels.LinearRegression</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinearRegression(X::Matrix{Fl}, y::Vector{Fl}) where Fl</code></pre><p>The linear regression state-space model is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  X_{1,t} \cdot \beta_{1,t} + \dots + X_{n,t} \cdot \beta_{n,t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \beta_{1,t+1} &amp;= \beta_{1,t}\\
        \dots &amp;= \dots\\
        \beta_{n,t+1} &amp;= \beta_{n,t}\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LinearRegression(rand(100, 2), rand(100))
LinearRegression model</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/linear_regression.jl#L8-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LocalLevel" href="#StateSpaceModels.LocalLevel"><code>StateSpaceModels.LocalLevel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LocalLevel(y::Vector{Fl}) where Fl</code></pre><p>The local level model is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \varepsilon_{t} \quad \varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \eta_{t} \quad \eta_{t} \sim \mathcal{N}(0, \sigma^2_{\eta})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevel(rand(100))
LocalLevel model</code></pre><p>See more on <a href="../examples/#Nile-river-annual-flow">Nile river annual flow</a></p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press. pp. 9</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/locallevel.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LocalLevelCycle" href="#StateSpaceModels.LocalLevelCycle"><code>StateSpaceModels.LocalLevelCycle</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LocalLevelCycle(y::Vector{Fl}) where Fl</code></pre><p>The local level model with a cycle component is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + c_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \eta_{t} \quad &amp;\eta_{t} \sim \mathcal{N}(0, \sigma^2_{\eta})\\
        c_{t+1} &amp;= c_{t} \cos(\lambda_c) + c_{t}^{*} \sin(\lambda_c)\ \quad &amp; \tilde\omega_{t} \sim \mathcal{N}(0, \sigma^2_{\tilde\omega})\\
        c_{t+1}^{*} &amp;= -c_{t} \sin(\lambda_c) + c_{t}^{*} \sin(\lambda_c) \quad &amp;\tilde\omega^*_{t} \sim \mathcal{N}(0, \sigma^2_{\tilde\omega})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevelCycle(rand(100))
LocalLevelCycle model</code></pre><p>See more on TODO RJ_TEMPERATURE</p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press. pp. 48</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/locallevelcycle.jl#L1-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LocalLevelExplanatory" href="#StateSpaceModels.LocalLevelExplanatory"><code>StateSpaceModels.LocalLevelExplanatory</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LocalLevelExplanatory(y::Vector{Fl}, X::Matrix{Fl}) where Fl</code></pre><p>A local level model with explanatory variables is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + X_{1,t} \cdot \beta_{1,t} + \dots + X_{n,t} \cdot \beta_{n,t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \xi_{t} &amp;\xi_{t} \sim \mathcal{N}(0, \sigma^2_{\xi})\\
        \beta_{1,t+1} &amp;= \beta_{1,t} &amp;\tau_{1, t} \sim \mathcal{N}(0, \sigma^2_{\tau_{1}})\\
        \dots &amp;= \dots\\
        \beta_{n,t+1} &amp;= \beta_{n,t} &amp;\tau_{n, t} \sim \mathcal{N}(0, \sigma^2_{\tau_{n}})\\\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevelExplanatory(rand(100), rand(100, 1))
LocalLevelExplanatory model</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/locallevelexplanatory.jl#L1-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LocalLinearTrend" href="#StateSpaceModels.LocalLinearTrend"><code>StateSpaceModels.LocalLinearTrend</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The linear trend model is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  \mu_{t} + \gamma_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \sigma^2_{\varepsilon})\\
        \mu_{t+1} &amp;= \mu_{t} + \nu_{t} + \xi_{t} \quad &amp;\xi_{t} \sim \mathcal{N}(0, \sigma^2_{\xi})\\
        \nu_{t+1} &amp;= \nu_{t} + \zeta_{t} \quad &amp;\zeta_{t} \sim \mathcal{N}(0, \sigma^2_{\zeta})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLinearTrend(rand(100))
LocalLinearTrend model</code></pre><p>See more on <a href="../examples/#Finland-road-traffic-fatalities">Finland road traffic fatalities</a></p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods:  Second Edition.&quot; Oxford University Press. pp. 44</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/locallineartrend.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.MultivariateBasicStructural" href="#StateSpaceModels.MultivariateBasicStructural"><code>StateSpaceModels.MultivariateBasicStructural</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">MultivariateBasicStructural(y::Matrix{Fl}, s::Int) where Fl</code></pre><p>An implementation of a non-homogeneous seemingly unrelated time series equations for basic structural state-space model consists of trend (local linear trend) and seasonal components. It is defined by:</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
    y_{t} &amp;=  \mu_{t} + \gamma_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, \Sigma_{\varepsilon})\\
    \mu_{t+1} &amp;= \mu_{t} + \nu_{t} + \xi_{t} \quad &amp;\xi_{t} \sim \mathcal{N}(0, \Sigma_{\xi})\\
    \nu_{t+1} &amp;= \nu_{t} + \zeta_{t} \quad &amp;\zeta_{t} \sim \mathcal{N}(0, \Sigma_{\zeta})\\
    \gamma_{t+1} &amp;= -\sum_{j=1}^{s-1} \gamma_{t+1-j} + \omega_{t} \quad &amp; \omega_{t} \sim \mathcal{N}(0, \Sigma_{\omega})\\
    \end{aligned}
\end{gather*}\]</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = MultivariateBasicStructural(rand(100, 2), 12)
MultivariateBasicStructural model</code></pre><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/models/basicstructural_multivariate.jl#L1-L26">source</a></section></article><h3 id="Implementing-a-custom-model"><a class="docs-heading-anchor" href="#Implementing-a-custom-model">Implementing a custom model</a><a id="Implementing-a-custom-model-1"></a><a class="docs-heading-anchor-permalink" href="#Implementing-a-custom-model" title="Permalink"></a></h3><p>Users are able to implement any custom user-defined model.</p><h2 id="Systems"><a class="docs-heading-anchor" href="#Systems">Systems</a><a id="Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Systems" title="Permalink"></a></h2><p>The <code>StateSpaceModel</code> matrices are represented as a <code>StateSpaceSystem</code>.</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.StateSpaceSystem" href="#StateSpaceModels.StateSpaceSystem"><code>StateSpaceModels.StateSpaceSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">StateSpaceSystem</code></pre><p>Abstract type that unifies the definition of state space models matrices such as <span>$y, Z, d, T, c, R, H, Q$</span> for linear models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/systems.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LinearUnivariateTimeInvariant" href="#StateSpaceModels.LinearUnivariateTimeInvariant"><code>StateSpaceModels.LinearUnivariateTimeInvariant</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinearUnivariateTimeInvariant{Fl}(
    y::Vector{Fl},
    Z::Vector{Fl},
    T::Matrix{Fl},
    R::Matrix{Fl},
    d::Fl,
    c::Vector{Fl},
    H::Fl,
    Q::Matrix{Fl},
) where Fl &lt;: AbstractFloat</code></pre><p>Definition of the system matrices <span>$y, Z, d, T, c, R, H, Q$</span> for linear univariate time invariant state space models.</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  Z\alpha_{t} + d + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, H)\\
        \alpha_{t+1} &amp;= T\alpha_{t} + c + R\eta_{t} \quad &amp;\eta_{t} \sim \mathcal{N}(0, Q)\\
    \end{aligned}
\end{gather*}\]</p><p>where:</p><ul><li><span>$y_{t}$</span> is a scalar</li><li><span>$Z$</span> is a <span>$m \times 1$</span> vector</li><li><span>$d$</span> is a scalar</li><li><span>$T$</span> is a <span>$m \times m$</span> matrix</li><li><span>$c$</span> is a <span>$m \times 1$</span> vector</li><li><span>$R$</span> is a <span>$m \times r$</span> matrix</li><li><span>$H$</span> is a scalar</li><li><span>$Q$</span> is a <span>$r \times r$</span> matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/systems.jl#L9-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LinearUnivariateTimeVariant" href="#StateSpaceModels.LinearUnivariateTimeVariant"><code>StateSpaceModels.LinearUnivariateTimeVariant</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinearUnivariateTimeVariant{Fl}(
    y::Vector{Fl},
    Z::Vector{Vector{Fl}},
    T::Vector{Matrix{Fl}},
    R::Vector{Matrix{Fl}},
    d::Vector{Fl},
    c::Vector{Vector{Fl}},
    H::Vector{Fl},
    Q::Vector{Matrix{Fl}},
) where Fl &lt;: AbstractFloat</code></pre><p>Definition of the system matrices <span>$y, Z, d, T, c, R, H, Q$</span> for linear univariate time variant state space models.</p><p class="math-container">\[\begin{gather*}
    \begin{aligned}
        y_{t} &amp;=  Z_{t}\alpha_{t} + d_{t} + \varepsilon_{t} \quad &amp;\varepsilon_{t} \sim \mathcal{N}(0, H_{t})\\
        \alpha_{t+1} &amp;= T_{t}\alpha_{t} + c_{t} + R_{t}\eta_{t} \quad &amp;\eta_{t} \sim \mathcal{N}(0, Q_{t})\\
    \end{aligned}
\end{gather*}\]</p><p>where:</p><ul><li><span>$y_{t}$</span> is a scalar</li><li><span>$Z_{t}$</span> is a <span>$m \times 1$</span> vector</li><li><span>$d_{t}$</span> is a scalar</li><li><span>$T_{t}$</span> is a <span>$m \times m$</span> matrix</li><li><span>$c_{t}$</span> is a <span>$m \times 1$</span> vector</li><li><span>$R_{t}$</span> is a <span>$m \times r$</span> matrix</li><li><span>$H_{t}$</span> is a scalar</li><li><span>$Q_{t}$</span> is a <span>$r \times r$</span> matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/systems.jl#L82-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LinearMultivariateTimeInvariant" href="#StateSpaceModels.LinearMultivariateTimeInvariant"><code>StateSpaceModels.LinearMultivariateTimeInvariant</code></a> — <span class="docstring-category">Type</span></header><section><div><p>TODO</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/systems.jl#L145-L147">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.LinearMultivariateTimeVariant" href="#StateSpaceModels.LinearMultivariateTimeVariant"><code>StateSpaceModels.LinearMultivariateTimeVariant</code></a> — <span class="docstring-category">Type</span></header><section><div><p>TODO</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/systems.jl#L178-L180">source</a></section></article><h2 id="Hyperparameters"><a class="docs-heading-anchor" href="#Hyperparameters">Hyperparameters</a><a id="Hyperparameters-1"></a><a class="docs-heading-anchor-permalink" href="#Hyperparameters" title="Permalink"></a></h2><p>The model hyperparameters are constant (non-time-varying) parameters that are optimized when <a href="#StateSpaceModels.fit!"><code>fit!</code></a> is called. The package provides some useful functions to accelerate experimentation and custom model development.</p><p>The getters are:</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_names" href="#StateSpaceModels.get_names"><code>StateSpaceModels.get_names</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_names(model::StateSpaceModel)</code></pre><p>Get the names of the hyperparameters registered on a <code>StateSpaceModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L87-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.number_hyperparameters" href="#StateSpaceModels.number_hyperparameters"><code>StateSpaceModels.number_hyperparameters</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">number_hyperparameters(model::StateSpaceModel)</code></pre><p>Get the number of hyperparameters registered on a <code>StateSpaceModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L96-L100">source</a></section></article><p>The setters are:</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.fix_hyperparameters!" href="#StateSpaceModels.fix_hyperparameters!"><code>StateSpaceModels.fix_hyperparameters!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fix_hyperparameters!(model::StateSpaceModel, fixed_hyperparameters::Dict)</code></pre><p>Fixes the desired hyperparameters so that they are not considered as decision variables in the model estimation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevel(rand(100))
LocalLevel model

julia&gt; get_names(model)
2-element Array{String,1}:
 &quot;sigma2_ε&quot;
 &quot;sigma2_η&quot;

julia&gt; fix_hyperparameters!(model, Dict(&quot;sigma2_ε&quot; =&gt; 100.0))
LocalLevel model

julia&gt; model.hyperparameters.fixed_constrained_values
Dict{String,Float64} with 1 entry:
  &quot;sigma2_ε&quot; =&gt; 100.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L251-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.set_initial_hyperparameters!" href="#StateSpaceModels.set_initial_hyperparameters!"><code>StateSpaceModels.set_initial_hyperparameters!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">set_initial_hyperparameters!(model::StateSpaceModel,
                             initial_hyperparameters::Dict{String, &lt;:Real})</code></pre><p>Fill a model with user inputed initial points for hyperparameter optimzation.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevel(rand(100))
LocalLevel model

julia&gt; get_names(model)
2-element Array{String,1}:
 &quot;sigma2_ε&quot;
 &quot;sigma2_η&quot;

julia&gt; set_initial_hyperparameters!(model, Dict(&quot;sigma2_η&quot; =&gt; 100.0))
LocalLevel model

julia&gt; model.hyperparameters.constrained_values
2-element Array{Float64,1}:
 NaN  
 100.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L189-L213">source</a></section></article><p>Mappings:</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.constrain_variance!" href="#StateSpaceModels.constrain_variance!"><code>StateSpaceModels.constrain_variance!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">constrain_variance!(model::StateSpaceModel, str::String)</code></pre><p>Map a constrained hyperparameter <span>$\psi \in \mathbb{R}^+$</span> to an unconstrained hyperparameter <span>$\psi_* \in \mathbb{R}$</span>.</p><p>The mapping is <span>$\psi = \psi_*^2$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L351-L359">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.unconstrain_variance!" href="#StateSpaceModels.unconstrain_variance!"><code>StateSpaceModels.unconstrain_variance!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unconstrain_variance!(model::StateSpaceModel, str::String)</code></pre><p>Map an unconstrained hyperparameter <span>$\psi_{*} \in \mathbb{R}$</span> to a constrained hyperparameter  <span>$\psi \in \mathbb{R}^+$</span>.</p><p>The mapping is <span>$\psi_{*} = \sqrt{\psi}$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L365-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.constrain_box!" href="#StateSpaceModels.constrain_box!"><code>StateSpaceModels.constrain_box!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">constrain_box!(model::StateSpaceModel, str::String, lb::Fl, ub::Fl) where Fl</code></pre><p>Map a constrained hyperparameter <span>$\psi \in [lb, ub]$</span> to an unconstrained hyperparameter <span>$\psi_* \in \mathbb{R}$</span>.</p><p>The mapping is <span>$\psi = lb + \frac{ub - lb}{1 + \exp(-\psi_{*})}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L317-L325">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.unconstrain_box!" href="#StateSpaceModels.unconstrain_box!"><code>StateSpaceModels.unconstrain_box!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unconstrain_box!(model::StateSpaceModel, str::String, lb::Fl, ub::Fl) where Fl</code></pre><p>Map an unconstrained hyperparameter <span>$\psi_* \in \mathbb{R}$</span> to a constrained hyperparameter <span>$\psi \in [lb, ub]$</span>.</p><p>The mapping is <span>$\psi_* = -\ln \frac{ub - lb}{\psi - lb} - 1$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L334-L342">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.constrain_identity!" href="#StateSpaceModels.constrain_identity!"><code>StateSpaceModels.constrain_identity!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">constrain_identity!(model::StateSpaceModel, str::String)</code></pre><p>Map an constrained hyperparameter <span>$\psi \in \mathbb{R}$</span> to an unconstrained hyperparameter <span>$\psi_* \in \mathbb{R}$</span>. This function is necessary to copy values from a location to another inside <code>HyperParameters</code></p><p>The mapping is <span>$\psi = \psi_*$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L378-L387">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.unconstrain_identity!" href="#StateSpaceModels.unconstrain_identity!"><code>StateSpaceModels.unconstrain_identity!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unconstrain_identity!(model::StateSpaceModel, str::String)</code></pre><p>Map an unconstrained hyperparameter <span>$\psi_* \in \mathbb{R}$</span> to a constrained hyperparameter <span>$\psi \in \mathbb{R}$</span>. This function is necessary to copy values from a location to another inside <code>HyperParameters</code></p><p>The mapping is <span>$\psi_* = \psi$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L393-L402">source</a></section></article><h2 id="Filters-and-smoothers"><a class="docs-heading-anchor" href="#Filters-and-smoothers">Filters and smoothers</a><a id="Filters-and-smoothers-1"></a><a class="docs-heading-anchor-permalink" href="#Filters-and-smoothers" title="Permalink"></a></h2><p>StateSpaceModels.jl lets users define tailor-made filters in an easy manner. TODO docs here</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.UnivariateKalmanFilter" href="#StateSpaceModels.UnivariateKalmanFilter"><code>StateSpaceModels.UnivariateKalmanFilter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">UnivariateKalmanFilter{Fl &lt;: AbstractFloat}</code></pre><p>A Kalman filter that is tailored to univariate systems, exploiting the fact that the dimension of the observations at any time period is 1.</p><p><strong>TODO equations and descriptions of a1 and P1</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/filters/univariate_kalman_filter.jl#L60-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.ScalarKalmanFilter" href="#StateSpaceModels.ScalarKalmanFilter"><code>StateSpaceModels.ScalarKalmanFilter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ScalarKalmanFilter{Fl &lt;: Real} &lt;: KalmanFilter</code></pre><p>Similar to the univariate Kalman filter but exploits the fact that the dimension of the state is equal to 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/filters/scalar_kalman_filter.jl#L50-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.FilterOutput" href="#StateSpaceModels.FilterOutput"><code>StateSpaceModels.FilterOutput</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FilterOutput{Fl&lt;:Real}</code></pre><p>Structure with the results of the Kalman filter:</p><ul><li><code>v</code>: innovations</li><li><code>F</code>: variance of innovations</li><li><code>a</code>: predictive state</li><li><code>att</code>: filtered state</li><li><code>P</code>: variance of predictive state</li><li><code>Ptt</code>: variance of filtered state</li><li><code>Pinf</code>: diffuse part of the covariance</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L40-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_innovations" href="#StateSpaceModels.get_innovations"><code>StateSpaceModels.get_innovations</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_innovations</code></pre><p>Returns the innovations <code>v</code> obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L83-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_innovations_variance" href="#StateSpaceModels.get_innovations_variance"><code>StateSpaceModels.get_innovations_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_innovations_variance</code></pre><p>Returns the variance <code>F</code> of innovations obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L97-L101">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_filtered_state" href="#StateSpaceModels.get_filtered_state"><code>StateSpaceModels.get_filtered_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_filtered_state</code></pre><p>Returns the filtered state <code>att</code> obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L111-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_filtered_state_variance" href="#StateSpaceModels.get_filtered_state_variance"><code>StateSpaceModels.get_filtered_state_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_filtered_state_variance</code></pre><p>Returns the variance <code>Ptt</code> of the filtered state obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_predictive_state" href="#StateSpaceModels.get_predictive_state"><code>StateSpaceModels.get_predictive_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_predictive_state</code></pre><p>Returns the predictive state <code>a</code> obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L139-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_predictive_state_variance" href="#StateSpaceModels.get_predictive_state_variance"><code>StateSpaceModels.get_predictive_state_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_predictive_state_variance</code></pre><p>Returns the variance <code>P</code> of the predictive state obtained with the Kalman filter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_smoothed_state" href="#StateSpaceModels.get_smoothed_state"><code>StateSpaceModels.get_smoothed_state</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_smoothed_state</code></pre><p>Returns the smoothed state <code>alpha</code> obtained with the smoother.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L215-L219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.get_smoothed_state_variance" href="#StateSpaceModels.get_smoothed_state_variance"><code>StateSpaceModels.get_smoothed_state_variance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_smoothed_state_variance</code></pre><p>Returns the variance <code>V</code> of the smoothed state obtained with the smoother.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/kalman_filter_and_smoother.jl#L229-L233">source</a></section></article><h2 id="Fitting-and-Optimizers"><a class="docs-heading-anchor" href="#Fitting-and-Optimizers">Fitting and Optimizers</a><a id="Fitting-and-Optimizers-1"></a><a class="docs-heading-anchor-permalink" href="#Fitting-and-Optimizers" title="Permalink"></a></h2><p>StateSpaceModels.jl has an interface for <a href="https://github.com/JuliaNLSolvers/Optim.jl">Optim.jl</a> algorithms. The models can be estimated using different algorithms and tunned to the user needs</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.fit!" href="#StateSpaceModels.fit!"><code>StateSpaceModels.fit!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fit!(
    model::StateSpaceModel;
    filter::KalmanFilter=default_filter(model),
    optimizer::Optimizer=Optimizer(Optim.LBFGS())
)</code></pre><p>Estimate the state-space model parameters via maximum likelihood. The resulting optimal hyperparameters and the corresponding log-likelihood are stored within the model. You can choose the desired filter method (<code>UnivariateKalmanFilter</code>, <code>ScalarKalmanFilter</code>, etc.) and the <a href="https://github.com/JuliaNLSolvers/Optim.jl">Optim.jl</a> optimization algortihm. </p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; model = LocalLevel(rand(100))
LocalLevel model

julia&gt; fit!(model)
LocalLevel model

julia&gt; model = LocalLinearTrend(LinRange(1, 100, 100) + rand(100))
LocalLinearTrend model

julia&gt; fit!(model; optimizer = Optimizer(StateSpaceModels.Optim.NelderMead()))
LocalLinearTrend model</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/fit.jl#L1-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.Optimizer" href="#StateSpaceModels.Optimizer"><code>StateSpaceModels.Optimizer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Optimizer</code></pre><p>An Optim.jl wrapper to make the choice of the optimizer straightforward in StateSpaceModels.jl Users can choose among all suitable Optimizers in Optim.jl using very similar syntax.</p><p><strong>Example</strong></p><pre><code class="language-">julia&gt; using Optim

# use a semicolon to avoid displaying the big log
julia&gt; opt = Optimizer(Optim.LBFGS(), Optim.Options(show_trace = true));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/optimizers.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.results" href="#StateSpaceModels.results"><code>StateSpaceModels.results</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">results(model::StateSpaceModel)</code></pre><p>Query the results of the optimization called by <code>fit!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/fit.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.has_fit_methods" href="#StateSpaceModels.has_fit_methods"><code>StateSpaceModels.has_fit_methods</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">has_fit_methods(model_type::Type{&lt;:StateSpaceModel}) -&gt; Bool</code></pre><p>Verify if a certain <code>StateSpaceModel</code> has the necessary methods to perform <code>fit!</code>`.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/fit.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.isfitted" href="#StateSpaceModels.isfitted"><code>StateSpaceModels.isfitted</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">isfitted(model::StateSpaceModel) -&gt; Bool</code></pre><p>Verify if <code>model</code> is fitted, i.e., returns <code>false</code> if there is at least one <code>NaN</code> entry in the hyperparameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/hyperparameters.jl#L300-L305">source</a></section></article><h2 id="Forecasting-and-simulating"><a class="docs-heading-anchor" href="#Forecasting-and-simulating">Forecasting and simulating</a><a id="Forecasting-and-simulating-1"></a><a class="docs-heading-anchor-permalink" href="#Forecasting-and-simulating" title="Permalink"></a></h2><p>StateSpaceModels.jl has functions to make forecasts of the predictive densities multiple steps ahead and to simulate scenarios based on those forecasts. The package also has a functions to benchmark the model forecasts  using backtest techniques.</p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.forecast" href="#StateSpaceModels.forecast"><code>StateSpaceModels.forecast</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">forecast(model::StateSpaceModel, steps_ahead::Int; kwargs...)
forecast(model::StateSpaceModel, exogenous::Matrix{Fl}; kwargs...) where Fl</code></pre><p>Forecast the mean and covariance for future observations from a StateSpaceModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/forecast.jl#L10-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.simulate_scenarios" href="#StateSpaceModels.simulate_scenarios"><code>StateSpaceModels.simulate_scenarios</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">simulate_scenarios(
    model::StateSpaceModel, steps_ahead::Int, n_scenarios::Int;
    filter::KalmanFilter=default_filter(model)
) -&gt; Array{&lt;:AbstractFloat, 3}</code></pre><p>Samples <code>n_scenarios</code> future scenarios via Monte Carlo simulation for <code>steps_ahead</code> using the desired <code>filter</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/forecast.jl#L105-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.backtest" href="#StateSpaceModels.backtest"><code>StateSpaceModels.backtest</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">backtest(model::StateSpaceModel, steps_ahead::Int, start_idx::Int;
         n_scenarios::Int = 10_000,
         filter::KalmanFilter=default_filter(model),
         optimizer::Optimizer=default_optimizer(model)) where Fl</code></pre><p>Makes rolling window estimating and forecasting to benchmark the forecasting skill of the model in for different time periods and different lead times. The function returns a struct with the MAE and mean CRPS per lead time. See more on <a href="../examples/#Backtest-the-forecasts-of-a-model">Backtest the forecasts of a model</a></p><p><strong>References</strong></p><ul><li>DTU course &quot;31761 - Renewables in electricity markets&quot; available on youtube https://www.youtube.com/watch?v=Ffo8XilZAZw&amp;t=556s</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/backtest.jl#L36-L48">source</a></section></article><h2 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h2><p>Some user friendly plot recipes are defined using <a href="https://github.com/JuliaPlots/RecipesBase.jl">RecipesBase.jl</a>. If you have any suggestions do not hesitate to post it as an issue.</p><pre><code class="language-julia">using StateSpaceModels, CSV, DataFrames, Plots

air_passengers = CSV.File(StateSpaceModels.AIR_PASSENGERS) |&gt; DataFrame
log_air_passengers = log.(air_passengers.passengers)

model = BasicStructural(log_air_passengers, 12)
fit!(model)
forec = forecast(model, 24)

plot(model, forec; legend = :topleft)
savefig(&quot;plot_forec.png&quot;)

nothing</code></pre><pre class="documenter-example-output">/home/runner/.julia/packages/GR/Atztx/src/../deps/gr/bin/gksqt: error while loading shared libraries: libQt5Widgets.so.5: cannot open shared object file: No such file or directory
connect: Connection refused
GKS: can&#39;t connect to GKS socket application

GKS: Open failed in routine OPEN_WS
GKS: GKS not in proper state. GKS must be either in the state WSOP or WSAC in routine ACTIVATE_WS</pre><p><img src="../plot_forec.png" alt/></p><pre><code class="language-julia">using StateSpaceModels, CSV, DataFrames, Plots

finland_fatalities = CSV.File(StateSpaceModels.VEHICLE_FATALITIES) |&gt; DataFrame
log_finland_fatalities = log.(finland_fatalities.ff)
model = UnobservedComponents(log_finland_fatalities; trend = &quot;local linear trend&quot;)
fit!(model)
ks = kalman_smoother(model)

plot(model, ks)
savefig(&quot;plot_ks.png&quot;)

nothing</code></pre><pre class="documenter-example-output">/home/runner/.julia/packages/GR/Atztx/src/../deps/gr/bin/gksqt: error while loading shared libraries: libQt5Widgets.so.5: cannot open shared object file: No such file or directory
connect: Connection refused
GKS: can&#39;t connect to GKS socket application

GKS: Open failed in routine OPEN_WS
GKS: GKS not in proper state. GKS must be either in the state WSOP or WSAC in routine ACTIVATE_WS</pre><p><img src="../plot_ks.png" alt/></p><pre><code class="language-">using StateSpaceModels, CSV, DataFrames, Plots

finland_fatalities = CSV.File(StateSpaceModels.NILE) |&gt; DataFrame
model = UnobservedComponents(nile; trend = &quot;local level&quot;, cycle = &quot;stochastic&quot;)
fit!(model)
kf = kalman_filter(model)

plotdiagnostics(kf)
savefig(&quot;plot_diagnostics.png&quot;)

nothing</code></pre><p><img src="plot_diagnostics.png" alt/></p><h2 id="Datasets"><a class="docs-heading-anchor" href="#Datasets">Datasets</a><a id="Datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Datasets" title="Permalink"></a></h2><p>The package provides some datasets to illustrate the funtionalities and models. These datasets are stored as csv files and the path to these files can be obtained through their names as seen below. In the examples we illustrate the datasets using <a href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a> and <a href="https://github.com/JuliaData/CSV.jl">CSV.jl</a></p><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.AIR_PASSENGERS" href="#StateSpaceModels.AIR_PASSENGERS"><code>StateSpaceModels.AIR_PASSENGERS</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">AIR_PASSENGERS</code></pre><p>The absolute path for the <code>AIR_PASSENGERS</code> dataset stored inside StateSpaceModels.jl. This dataset provides monthly totals of a US airline passengers from 1949 to 1960.</p><p>See more on <a href="../examples/#Airline-passengers">Airline passengers</a></p><p><strong>References</strong></p><ul><li>https://www.stata-press.com/data/r12/ts.html</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L17-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.FRONT_REAR_SEAT_KSI" href="#StateSpaceModels.FRONT_REAR_SEAT_KSI"><code>StateSpaceModels.FRONT_REAR_SEAT_KSI</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">FRONT_REAR_SEAT_KSI</code></pre><p>The absolute path for the <code>FRONT_REAR_SEAT_KSI</code> dataset stored inside StateSpaceModels.jl. This dataset provides the log of british people killed or serious injuried in road accidents accross UK.</p><p><strong>References</strong></p><ul><li>Commandeur, Jacques J.F. &amp; Koopman, Siem Jan, 2007. &quot;An Introduction to State Space Time  Series Analysis,&quot; OUP Catalogue, Oxford University Press (Chapter 3)</li><li>http://staff.feweb.vu.nl/koopman/projects/ckbook/OxCodeAll.zip</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L68-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.INTERNET" href="#StateSpaceModels.INTERNET"><code>StateSpaceModels.INTERNET</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">INTERNET</code></pre><p>The absolute path for the <code>INTERNET</code> dataset stored inside StateSpaceModels.jl. This dataset provides the number of users logged on to an Internet server each minute over 100 minutes.</p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods:  Second Edition.&quot; Oxford University Press. (Chapter 9)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L30-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.NILE" href="#StateSpaceModels.NILE"><code>StateSpaceModels.NILE</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">NILE</code></pre><p>The absolute path for the <code>NILE</code> dataset stored inside StateSpaceModels.jl. This dataset provides measurements of the annual flow of the Nile river at Aswan from 1871 to 1970, in <span>$10^8 m^3$</span>.</p><p>See more on <a href="../examples/#Nile-river-annual-flow">Nile river annual flow</a></p><p><strong>References</strong></p><ul><li>Durbin, James, &amp; Siem Jan Koopman. (2012). &quot;Time Series Analysis by State Space Methods: Second Edition.&quot; Oxford University Press. (Chapter 2)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.RJ_TEMPERATURE" href="#StateSpaceModels.RJ_TEMPERATURE"><code>StateSpaceModels.RJ_TEMPERATURE</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">RJ_TEMPERATURE</code></pre><p>Weekly mean temperature in Rio de Janeiro in Kelvin (K).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.VEHICLE_FATALITIES" href="#StateSpaceModels.VEHICLE_FATALITIES"><code>StateSpaceModels.VEHICLE_FATALITIES</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">VEHICLE_FATALITIES</code></pre><p>The absolute path for the <code>VEHICLE_FATALITIES</code> dataset stored inside StateSpaceModels.jl. This dataset provides the number of annual road traffic fatalities in Norway and Finland.</p><p>See more on <a href="../examples/#Finland-road-traffic-fatalities">Finland road traffic fatalities</a></p><p><strong>References</strong></p><ul><li>Commandeur, Jacques J.F. &amp; Koopman, Siem Jan, 2007. &quot;An Introduction to State Space Time  Series Analysis,&quot; OUP Catalogue, Oxford University Press (Chapter 3)</li><li>http://staff.feweb.vu.nl/koopman/projects/ckbook/OxCodeAll.zip</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L51-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.WHOLESALE_PRICE_INDEX" href="#StateSpaceModels.WHOLESALE_PRICE_INDEX"><code>StateSpaceModels.WHOLESALE_PRICE_INDEX</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">WHOLESALE_PRICE_INDEX</code></pre><p>TODO</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L42-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StateSpaceModels.US_CHANGE" href="#StateSpaceModels.US_CHANGE"><code>StateSpaceModels.US_CHANGE</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">US_CHANGE</code></pre><p>Percentage changes in quarterly personal consumption expenditure, personal disposable income, production, savings and the unemployment rate for the US, 1960 to 2016.</p><p>Federal Reserve Bank of St Louis.</p><p><strong>References</strong></p><ul><li>Hyndman, Rob J., Athanasopoulos, George. &quot;Forecasting: Principles and Practice&quot;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/LAMPSPUC/StateSpaceModels.jl/blob/9962d4fbdd9806d5b2abd60ed3a839646149880f/src/datasets.jl#L89-L99">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 31 March 2021 23:45">Wednesday 31 March 2021</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
