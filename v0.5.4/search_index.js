var documenterSearchIndex = {"docs":
[{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"In this section we show examples of applications and use cases of the package.","category":"page"},{"location":"examples/#Nile-river-annual-flow","page":"Examples","title":"Nile river annual flow","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"Here we will follow an example from Durbin & Koopman's book. We will use the LocalLevel model applied to the annual flow of the Nile river at the city of Aswan between 1871 and 1970.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using StateSpaceModels\nusing Plots\nusing Dates","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"First, we load the data:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using CSV, DataFrames\nnile = CSV.File(StateSpaceModels.NILE) |> DataFrame\nplt = plot(nile.year, nile.flow, label = \"Nile river annual flow\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Next, we fit a LocalLevel model:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"model = LocalLevel(nile.flow)\nfit!(model)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We can analyze the filtered estimates for the level of the annual flow:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"filter_output = kalman_filter(model)\nplot!(plt, nile.year, get_filtered_state(filter_output), label = \"Filtered level\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We can do the same for the smoothed estimates for the level of the annual flow:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"smoother_output = kalman_smoother(model)\nplot!(plt, nile.year, get_smoothed_state(smoother_output), label = \"Smoothed level\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"StateSpaceModels.jl can also be used to obtain forecasts. Here we forecast 10 steps ahead:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"steps_ahead = 10\ndates = collect(nile.year[end] + Year(1):Year(1):nile.year[end] + Year(10))\nforec = forecast(model, 10)\nexpected_value = forecast_expected_value(forec)\nplot!(plt, dates, expected_value, label = \"Forecast\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We can also simulate multiple scenarios for the forecasting horizon based on the estimated predictive distributions.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"scenarios = simulate_scenarios(model, 10, 100)\nplot!(plt, dates, scenarios[:, 1, :], label = \"\", color = \"grey\", width = 0.2)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"The package also handles missing values automatically. To that end, the package considers that any NaN entries in the observations are missing values.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"nile.flow[[collect(21:40); collect(61:80)]] .= NaN\nplt = plot(nile.year, nile.flow, label = \"Annual nile river flow\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Even though the series has several missing values, the same analysis is possible:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"model = LocalLevel(nile.flow)\nfit!(model)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"And the exact same code can be used for filtering and smoothing:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"filter_output = kalman_filter(model)\nsmoother_output = kalman_smoother(model)\nplot!(plt, nile.year, get_filtered_state(filter_output), label = \"Filtered level\")\nplot!(plt, nile.year, get_smoothed_state(smoother_output), label = \"Smoothed level\")","category":"page"},{"location":"examples/#Airline-passengers","page":"Examples","title":"Airline passengers","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"We often write the model SARIMA model as an ARIMA (pdq) times (PDQs), where the lowercase letters indicate the specification for the non-seasonal component, and the uppercase letters indicate the specification for the seasonal component; s is the periodicity of the seasons (e.g. it is often 4 for quarterly data or 12 for monthly data). The data process can be written generically as","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"beginequation\n    phi_p (L) tilde phi_P (L^s) Delta^d Delta_s^D y_t = A(t) + theta_q (L) tilde theta_Q (L^s) epsilon_t\nendequation","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"where","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"phi_p (L) is the non-seasonal autoregressive lag polynomial,\ntilde phi_P (L^s) is the seasonal autoregressive lag polynomial,\nDelta^d Delta_s^D y_t is the time series, differenced d times, and seasonally differenced D times.,\nA(t) is the trend polynomial (including the intercept),\ntheta_q (L) is the non-seasonal moving average lag polynomial,\ntilde theta_Q (L^s) is the seasonal moving average lag polynomial","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"sometimes we rewrite this as:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"beginequation\n    phi_p (L) tilde phi_P (L^s) y_t^* = A(t) + theta_q (L) tilde theta_Q (L^s) epsilon_t\nendequation","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"where y_t^* = Delta^d Delta_s^D y_t. This emphasizes that just as in the simple case, after we take differences (here both non-seasonal and seasonal) to make the data stationary, the resulting model is just an ARMA model.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"As an example, consider the airline model ARIMA (011) times (01112). The data process can be written in the form above as:,","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"beginequation\n    Delta Delta_12 y_t = (1 - theta_1 L) (1 - tilde theta_1 L^12) epsilon_t\nendequation","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Here, we have:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"phi_p (L) = 1, (i.e. there is no auto regressive effect)\ntilde phi_P (L^s) = 1, (i.e. there is no seasonal auto regressive effect)\nd = 1 D = 1 s=12 indicating that y_t^* is derived from y_t by taking first-differences and then taking 12-th differences.,\nA(t) = 0 no trend,\ntheta_q (L) = (1 - theta_1 L),\ntilde theta_Q (L^s) = (1 - tilde theta_1 L^12),","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"It may still be confusing to see the two lag polynomials in front of the error variable, but notice that we can multiply the lag polynomials together to get the following model:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"beginequation\n    y_t^* = (1 - theta_1 L - tilde theta_1 L^12 + theta_1 tilde theta_1 L^13) epsilon_t\nendequation","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"For the airline model ARIMA (011) times (01112) with an intercept, the command is:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using StateSpaceModels, CSV, DataFrames\nusing Plots","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using CSV, DataFrames\nair_passengers = CSV.File(StateSpaceModels.AIR_PASSENGERS) |> DataFrame\nlog_air_passengers = log.(air_passengers.passengers)\nmodel = SARIMA(log_air_passengers; order = (0, 1, 1), seasonal_order = (0, 1, 1, 12))\nfit!(model)\nresults(model)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"To make a forecast of 24 steps ahead of the model the command is:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"forec = forecast(model, 24)\nplot(model, forec; legend = :topleft)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"The text from this example is based on Python`s statsmodels library. The estimates for this example match up to the 3th decimal place the results of the paper State Space Methods in Ox/SsfPack from the journal of statistical software.","category":"page"},{"location":"examples/#Finland-road-traffic-fatalities","page":"Examples","title":"Finland road traffic fatalities","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"In this example, we will follow what is illustrated on Commandeur, Jacques J.F. & Koopman,  Siem Jan, 2007. \"An Introduction to State Space Time Series Analysis,\" OUP Catalogue,  Oxford University Press (Chapter 3). We will study the LocalLinearTrend model with  a series of the log of road traffic fatalities in Finalnd and analyse its slope to tell if the trend of fatalities was increasing or decrasing during different periods of time.","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using StateSpaceModels\nusing Plots","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"using StateSpaceModels, Plots, CSV, DataFrames\ndf = CSV.File(StateSpaceModels.VEHICLE_FATALITIES) |> DataFrame\nlog_ff = log.(df.ff)\nplt = plot(df.date, log_ff, label = \"Log of Finland road traffic fatalities\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We fit a LocalLinearTrend","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"model = LocalLinearTrend(log_ff)\nfit!(model)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"By extracting the smoothed slope we conclude that according to our model the trend of fatalities  in Finland was increasing in the years 1970, 1982, 1984 through to 1988, and in 1998","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"smoother_output = kalman_smoother(model)\nplot(df.date, get_smoothed_state(smoother_output)[:, 2], label = \"slope\")","category":"page"},{"location":"manual/#Manual","page":"Manual","title":"Manual","text":"","category":"section"},{"location":"manual/#Quick-Start-Guide","page":"Manual","title":"Quick Start Guide","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"models\nfit\nfilter\nsmoother\nforecast\nplot","category":"page"},{"location":"manual/#Models","page":"Manual","title":"Models","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"The package provides a variaty of pre-defined models. If there is any model that you wish was in the package, feel free to open an issue or pull request.","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"SARIMA\nBasicStructural\nLinearRegression\nLocalLevel\nLocalLevelCycle\nLocalLevelExplanatory\nLocalLinearTrend\nMultivariateBasicStructural","category":"page"},{"location":"manual/#StateSpaceModels.SARIMA","page":"Manual","title":"StateSpaceModels.SARIMA","text":"SARIMA(y::Vector{Fl}; order::Tuple{Int,Int,Int} = (1, 0, 0), \n                      seasonal_order::Tuple{Int, Int, Int, Int} = (0, 0, 0, 0),\n                      include_mean::Bool = false) where Fl\n\nA SARIMA model (Seasonal AutoRegressive Integrated Moving Average) implemented within the state-space framework.\n\nThe SARIMA model is specified (p d q) times (P D Q s). We can also consider a polynomial A(t) to  model a trend, here we only allow to add a constante term with the include_mean keyword argument.    \n\nbegingather*\n    beginaligned\n        phi_p (L) tilde phi_P (L^s) Delta^d Delta_s^D y_t = A(t) + theta_q (L) tilde theta_Q (L^s) zeta_t\n    endaligned\nendgather*\n\nIn terms of a univariate structural model, this can be represented as\n\nbegingather*\n    beginaligned\n    y_t  = u_t + eta_t \n    phi_p (L) tilde phi_P (L^s) Delta^d Delta_s^D u_t  = A(t) + theta_q (L) tilde theta_Q (L^s) zeta_t\n    endaligned\nendgather*\n\nExample\n\njulia> model = SARIMA(rand(100); order=(1,1,1), seasonal_order=(1,2,3,12))\nSARIMA(1, 1, 1)x(1, 2, 3, 12) model\n\nSee more on Airline passengers\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press.\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.BasicStructural","page":"Manual","title":"StateSpaceModels.BasicStructural","text":"BasicStructural(y::Vector{Fl}, s::Int) where Fl\n\nThe basic structural state-space model consists of a trend (level + slope) and a seasonal component. It is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  mu_t + gamma_t + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        mu_t+1 = mu_t + nu_t + xi_t quad xi_t sim mathcalN(0 sigma^2_xi)\n        nu_t+1 = nu_t + zeta_t quad zeta_t sim mathcalN(0 sigma^2_zeta)\n        gamma_t+1 = -sum_j=1^s-1 gamma_t+1-j + omega_t quad  omega_t sim mathcalN(0 sigma^2_omega)\n    endaligned\nendgather*\n\nExample\n\njulia> model = BasicStructural(rand(100), 12)\nBasicStructural model\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press.\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LinearRegression","page":"Manual","title":"StateSpaceModels.LinearRegression","text":"LinearRegression(X::Matrix{Fl}, y::Vector{Fl}) where Fl\n\nThe linear regression state-space model is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  X_1t cdot beta_1t + dots + X_nt cdot beta_nt + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        beta_1t+1 = beta_1t\n        dots = dots\n        beta_nt+1 = beta_nt\n    endaligned\nendgather*\n\nExample\n\njulia> model = LinearRegression(rand(100, 2), rand(100))\nLinearRegression model\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LocalLevel","page":"Manual","title":"StateSpaceModels.LocalLevel","text":"LocalLevel(y::Vector{Fl}) where Fl\n\nThe local level model is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  mu_t + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        mu_t+1 = mu_t + eta_t quad eta_t sim mathcalN(0 sigma^2_eta)\n    endaligned\nendgather*\n\nExample\n\njulia> model = LocalLevel(rand(100))\nLocalLevel model\n\nSee more on Nile river annual flow\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press. pp. 9\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LocalLevelCycle","page":"Manual","title":"StateSpaceModels.LocalLevelCycle","text":"LocalLevelCycle(y::Vector{Fl}) where Fl\n\nThe local level model with a cycle component is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  mu_t + c_t + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        mu_t+1 = mu_t + eta_t quad eta_t sim mathcalN(0 sigma^2_eta)\n        c_t+1 = c_t cos(lambda_c) + c_t^* sin(lambda_c) quad omega_1t sim mathcalN(0 sigma^2_omega_1)\n        c_t+1^* = -c_t sin(lambda_c) + c_t^* sin(lambda_c) quad omega_2t sim mathcalN(0 sigma^2_omega_2)\n    endaligned\nendgather*\n\nExample\n\njulia> model = LocalLevelCycle(rand(100))\nLocalLevelCycle model\n\nSee more on TODO RJ_TEMPERATURE\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press. pp. 48\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LocalLevelExplanatory","page":"Manual","title":"StateSpaceModels.LocalLevelExplanatory","text":"LocalLevelExplanatory(y::Vector{Fl}, X::Matrix{Fl}) where Fl\n\nA local level model with explanatory variables is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  mu_t + X_1t cdot beta_1t + dots + X_nt cdot beta_nt + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        mu_t+1 = mu_t + xi_t xi_t sim mathcalN(0 sigma^2_xi)\n        beta_1t+1 = beta_1t tau_1 t sim mathcalN(0 sigma^2_tau_1)\n        dots = dots\n        beta_nt+1 = beta_nt tau_n t sim mathcalN(0 sigma^2_tau_n)\n    endaligned\nendgather*\n\nExample\n\njulia> model = LocalLevelExplanatory(rand(100), rand(100, 1))\nLocalLevelExplanatory model\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LocalLinearTrend","page":"Manual","title":"StateSpaceModels.LocalLinearTrend","text":"The linear trend model is defined by:\n\nbegingather*\n    beginaligned\n        y_t =  mu_t + gamma_t + varepsilon_t quad varepsilon_t sim mathcalN(0 sigma^2_varepsilon)\n        mu_t+1 = mu_t + nu_t + xi_t quad xi_t sim mathcalN(0 sigma^2_xi)\n        nu_t+1 = nu_t + zeta_t quad zeta_t sim mathcalN(0 sigma^2_zeta)\n    endaligned\nendgather*\n\nExample\n\njulia> model = LocalLinearTrend(rand(100))\nLocalLinearTrend model\n\nSee more on Finland road traffic fatalities\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods:  Second Edition.\" Oxford University Press. pp. 44\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.MultivariateBasicStructural","page":"Manual","title":"StateSpaceModels.MultivariateBasicStructural","text":"MultivariateBasicStructural(y::Matrix{Fl}, s::Int) where Fl\n\nAn implementation of a non-homogeneous seemingly unrelated time series equations for basic structural state-space model consists of trend (local linear trend) and seasonal components. It is defined by:\n\nbegingather*\n    beginaligned\n    y_t =  mu_t + gamma_t + varepsilon_t quad varepsilon_t sim mathcalN(0 Sigma_varepsilon)\n    mu_t+1 = mu_t + nu_t + xi_t quad xi_t sim mathcalN(0 Sigma_xi)\n    nu_t+1 = nu_t + zeta_t quad zeta_t sim mathcalN(0 Sigma_zeta)\n    gamma_t+1 = -sum_j=1^s-1 gamma_t+1-j + omega_t quad  omega_t sim mathcalN(0 Sigma_omega)\n    endaligned\nendgather*\n\nExample\n\njulia> model = MultivariateBasicStructural(rand(100, 2), 12)\nMultivariateBasicStructural model\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press.\n\n\n\n\n\n","category":"type"},{"location":"manual/#Implementing-a-custom-model","page":"Manual","title":"Implementing a custom model","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"Users are able to implement any custom user-defined model.","category":"page"},{"location":"manual/#Systems","page":"Manual","title":"Systems","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"The StateSpaceModel matrices are represented as a StateSpaceSystem.","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"StateSpaceModels.StateSpaceSystem\nLinearUnivariateTimeInvariant\nLinearUnivariateTimeVariant\nLinearMultivariateTimeInvariant\nLinearMultivariateTimeVariant","category":"page"},{"location":"manual/#StateSpaceModels.StateSpaceSystem","page":"Manual","title":"StateSpaceModels.StateSpaceSystem","text":"StateSpaceSystem\n\nAbstract type that unifies the definition of state space models matrices such as y Z d T c R H Q for linear models.\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LinearUnivariateTimeInvariant","page":"Manual","title":"StateSpaceModels.LinearUnivariateTimeInvariant","text":"LinearUnivariateTimeInvariant{Fl}(\n    y::Vector{Fl},\n    Z::Vector{Fl},\n    T::Matrix{Fl},\n    R::Matrix{Fl},\n    d::Fl,\n    c::Vector{Fl},\n    H::Fl,\n    Q::Matrix{Fl},\n) where Fl <: AbstractFloat\n\nDefinition of the system matrices y Z d T c R H Q for linear univariate time invariant state space models.\n\nbegingather*\n    beginaligned\n        y_t =  Zalpha_t + d + varepsilon_t quad varepsilon_t sim mathcalN(0 H)\n        alpha_t+1 = Talpha_t + c + Reta_t quad eta_t sim mathcalN(0 Q)\n    endaligned\nendgather*\n\nwhere:\n\ny_t is a scalar\nZ is a m times 1 vector\nd is a scalar\nT is a m times m matrix\nc is a m times 1 vector\nR is a m times r matrix\nH is a scalar\nQ is a r times r matrix\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LinearUnivariateTimeVariant","page":"Manual","title":"StateSpaceModels.LinearUnivariateTimeVariant","text":"LinearUnivariateTimeVariant{Fl}(\n    y::Vector{Fl},\n    Z::Vector{Vector{Fl}},\n    T::Vector{Matrix{Fl}},\n    R::Vector{Matrix{Fl}},\n    d::Vector{Fl},\n    c::Vector{Vector{Fl}},\n    H::Vector{Fl},\n    Q::Vector{Matrix{Fl}},\n) where Fl <: AbstractFloat\n\nDefinition of the system matrices y Z d T c R H Q for linear univariate time variant state space models.\n\nbegingather*\n    beginaligned\n        y_t =  Z_talpha_t + d_t + varepsilon_t quad varepsilon_t sim mathcalN(0 H_t)\n        alpha_t+1 = T_talpha_t + c_t + R_teta_t quad eta_t sim mathcalN(0 Q_t)\n    endaligned\nendgather*\n\nwhere:\n\ny_t is a scalar\nZ_t is a m times 1 vector\nd_t is a scalar\nT_t is a m times m matrix\nc_t is a m times 1 vector\nR_t is a m times r matrix\nH_t is a scalar\nQ_t is a r times r matrix\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LinearMultivariateTimeInvariant","page":"Manual","title":"StateSpaceModels.LinearMultivariateTimeInvariant","text":"TODO\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.LinearMultivariateTimeVariant","page":"Manual","title":"StateSpaceModels.LinearMultivariateTimeVariant","text":"TODO\n\n\n\n\n\n","category":"type"},{"location":"manual/#Hyperparameters","page":"Manual","title":"Hyperparameters","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"The model hyperparameters are constant (non-time-varying) parameters that are optimized when fit! is called. The package provides some useful functions to accelerate experimentation and custom model development.","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"The getters are:","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"get_names\nnumber_hyperparameters","category":"page"},{"location":"manual/#StateSpaceModels.get_names","page":"Manual","title":"StateSpaceModels.get_names","text":"get_names(model::StateSpaceModel)\n\nGet the names of the hyperparameters registered on a StateSpaceModel.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.number_hyperparameters","page":"Manual","title":"StateSpaceModels.number_hyperparameters","text":"number_hyperparameters(model::StateSpaceModel)\n\nGet the number of hyperparameters registered on a StateSpaceModel.\n\n\n\n\n\n","category":"function"},{"location":"manual/","page":"Manual","title":"Manual","text":"The setters are:","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"fix_hyperparameters!\nset_initial_hyperparameters!","category":"page"},{"location":"manual/#StateSpaceModels.fix_hyperparameters!","page":"Manual","title":"StateSpaceModels.fix_hyperparameters!","text":"fix_hyperparameters!(model::StateSpaceModel, fixed_hyperparameters::Dict)\n\nFixes the desired hyperparameters so that they are not considered as decision variables in the model estimation.\n\nExample\n\njulia> model = LocalLevel(rand(100))\nLocalLevel model\n\njulia> get_names(model)\n2-element Array{String,1}:\n \"sigma2_ε\"\n \"sigma2_η\"\n\njulia> fix_hyperparameters!(model, Dict(\"sigma2_ε\" => 100.0))\nLocalLevel model\n\njulia> model.hyperparameters.fixed_constrained_values\nDict{String,Float64} with 1 entry:\n  \"sigma2_ε\" => 100.0\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.set_initial_hyperparameters!","page":"Manual","title":"StateSpaceModels.set_initial_hyperparameters!","text":"set_initial_hyperparameters!(model::StateSpaceModel,\n                             initial_hyperparameters::Dict{String, <:Real})\n\nFill a model with user inputed initial points for hyperparameter optimzation.\n\nExample\n\njulia> model = LocalLevel(rand(100))\nLocalLevel model\n\njulia> get_names(model)\n2-element Array{String,1}:\n \"sigma2_ε\"\n \"sigma2_η\"\n\njulia> set_initial_hyperparameters!(model, Dict(\"sigma2_η\" => 100.0))\nLocalLevel model\n\njulia> model.hyperparameters.constrained_values\n2-element Array{Float64,1}:\n NaN  \n 100.0\n\n\n\n\n\n","category":"function"},{"location":"manual/","page":"Manual","title":"Manual","text":"Mappings:","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"constrain_variance!\nunconstrain_variance!\nconstrain_box!\nunconstrain_box!\nconstrain_identity!\nunconstrain_identity!","category":"page"},{"location":"manual/#StateSpaceModels.constrain_variance!","page":"Manual","title":"StateSpaceModels.constrain_variance!","text":"constrain_variance!(model::StateSpaceModel, str::String)\n\nMap a constrained hyperparameter psi in mathbbR^+ to an unconstrained hyperparameter psi_* in mathbbR.\n\nThe mapping is psi = psi_*^2\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.unconstrain_variance!","page":"Manual","title":"StateSpaceModels.unconstrain_variance!","text":"unconstrain_variance!(model::StateSpaceModel, str::String)\n\nMap an unconstrained hyperparameter psi_* in mathbbR to a constrained hyperparameter  psi in mathbbR^+.\n\nThe mapping is psi_* = sqrtpsi.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.constrain_box!","page":"Manual","title":"StateSpaceModels.constrain_box!","text":"constrain_box!(model::StateSpaceModel, str::String, lb::Fl, ub::Fl) where Fl\n\nMap a constrained hyperparameter psi in lb ub to an unconstrained hyperparameter psi_* in mathbbR.\n\nThe mapping is psi = lb + fracub - lb1 + exp(-psi_*)\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.unconstrain_box!","page":"Manual","title":"StateSpaceModels.unconstrain_box!","text":"unconstrain_box!(model::StateSpaceModel, str::String, lb::Fl, ub::Fl) where Fl\n\nMap an unconstrained hyperparameter psi_* in mathbbR to a constrained hyperparameter psi in lb ub.\n\nThe mapping is psi_* = -ln fracub - lbpsi - lb - 1\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.constrain_identity!","page":"Manual","title":"StateSpaceModels.constrain_identity!","text":"constrain_identity!(model::StateSpaceModel, str::String)\n\nMap an constrained hyperparameter psi in mathbbR to an unconstrained hyperparameter psi_* in mathbbR. This function is necessary to copy values from a location to another inside HyperParameters\n\nThe mapping is psi = psi_*\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.unconstrain_identity!","page":"Manual","title":"StateSpaceModels.unconstrain_identity!","text":"unconstrain_identity!(model::StateSpaceModel, str::String)\n\nMap an unconstrained hyperparameter psi_* in mathbbR to a constrained hyperparameter psi in mathbbR. This function is necessary to copy values from a location to another inside HyperParameters\n\nThe mapping is psi_* = psi\n\n\n\n\n\n","category":"function"},{"location":"manual/#Filters-and-smoothers","page":"Manual","title":"Filters and smoothers","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"StateSpaceModels.jl lets users define tailor-made filters in an easy manner. TODO docs here","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"UnivariateKalmanFilter\nScalarKalmanFilter\nStateSpaceModels.FilterOutput\nget_innovations\nget_innovation_variance\nget_filtered_state\nget_filtered_state_variance\nget_predictive_state\nget_predictive_state_variance\nget_smoothed_state\nget_smoothed_state_variance","category":"page"},{"location":"manual/#StateSpaceModels.UnivariateKalmanFilter","page":"Manual","title":"StateSpaceModels.UnivariateKalmanFilter","text":"UnivariateKalmanFilter{Fl <: AbstractFloat}\n\nA Kalman filter that is tailored to univariate systems, exploiting the fact that the dimension of the observations at any time period is 1.\n\nTODO equations and descriptions of a1 and P1\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.ScalarKalmanFilter","page":"Manual","title":"StateSpaceModels.ScalarKalmanFilter","text":"ScalarKalmanFilter{Fl <: Real} <: KalmanFilter\n\nSimilar to the univariate Kalman filter but exploits the fact that the dimension of the state is equal to 1.\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.FilterOutput","page":"Manual","title":"StateSpaceModels.FilterOutput","text":"FilterOutput{Fl<:Real}\n\nStructure with the results of the Kalman filter:\n\nv: innovations\nF: variance of innovations\na: predictive state\natt: filtered state\nP: variance of predictive state\nPtt: variance of filtered state\nPinf: diffuse part of the covariance\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.get_innovations","page":"Manual","title":"StateSpaceModels.get_innovations","text":"get_innovations\n\nReturns the innovations v obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_innovation_variance","page":"Manual","title":"StateSpaceModels.get_innovation_variance","text":"get_innovation_variance\n\nReturns the variance F of innovations obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_filtered_state","page":"Manual","title":"StateSpaceModels.get_filtered_state","text":"get_filtered_state\n\nReturns the filtered state att obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_filtered_state_variance","page":"Manual","title":"StateSpaceModels.get_filtered_state_variance","text":"get_filtered_state_variance\n\nReturns the variance Ptt of the filtered state obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_predictive_state","page":"Manual","title":"StateSpaceModels.get_predictive_state","text":"get_predictive_state\n\nReturns the predictive state a obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_predictive_state_variance","page":"Manual","title":"StateSpaceModels.get_predictive_state_variance","text":"get_predictive_state_variance\n\nReturns the variance P of the predictive state obtained with the Kalman filter.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_smoothed_state","page":"Manual","title":"StateSpaceModels.get_smoothed_state","text":"get_smoothed_state\n\nReturns the smoothed state alpha obtained with the smoother.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.get_smoothed_state_variance","page":"Manual","title":"StateSpaceModels.get_smoothed_state_variance","text":"get_smoothed_state_variance\n\nReturns the variance V of the smoothed state obtained with the smoother.\n\n\n\n\n\n","category":"function"},{"location":"manual/#Fitting-and-Optimizers","page":"Manual","title":"Fitting and Optimizers","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"StateSpaceModels.jl has an interface for Optim.jl algorithms. The models can be estimated using different algorithms and tunned to the user needs","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"fit!\nOptimizer\nresults\nhas_fit_methods\nisfitted","category":"page"},{"location":"manual/#StateSpaceModels.fit!","page":"Manual","title":"StateSpaceModels.fit!","text":"fit!(\n    model::StateSpaceModel;\n    filter::KalmanFilter=default_filter(model),\n    optimizer::Optimizer=Optimizer(Optim.LBFGS())\n)\n\nEstimate the state-space model parameters via maximum likelihood. The resulting optimal hyperparameters and the corresponding log-likelihood are stored within the model. You can choose the desired filter method (UnivariateKalmanFilter, ScalarKalmanFilter, etc.) and the Optim.jl optimization algortihm. \n\nExample\n\njulia> model = LocalLevel(rand(100))\nLocalLevel model\n\njulia> fit!(model)\nLocalLevel model\n\njulia> model = LocalLinearTrend(LinRange(1, 100, 100) + rand(100))\nLocalLinearTrend model\n\njulia> fit!(model; optimizer = Optimizer(StateSpaceModels.Optim.NelderMead()))\nLocalLinearTrend model\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.Optimizer","page":"Manual","title":"StateSpaceModels.Optimizer","text":"Optimizer\n\nAn Optim.jl wrapper to make the choice of the optimizer straightforward in StateSpaceModels.jl Users can choose among all suitable Optimizers in Optim.jl using very similar syntax.\n\nExample\n\njulia> using Optim\n\n# use a semicolon to avoid displaying the big log\njulia> opt = Optimizer(Optim.LBFGS(), Optim.Options(show_trace = true));\n\n\n\n\n\n","category":"type"},{"location":"manual/#StateSpaceModels.results","page":"Manual","title":"StateSpaceModels.results","text":"results(model::StateSpaceModel)\n\nQuery the results of the optimization called by fit!.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.has_fit_methods","page":"Manual","title":"StateSpaceModels.has_fit_methods","text":"has_fit_methods(model_type::Type{<:StateSpaceModel}) -> Bool\n\nVerify if a certain StateSpaceModel has the necessary methods to perform fit!`.\n\n\n\n\n\n","category":"function"},{"location":"manual/#StateSpaceModels.isfitted","page":"Manual","title":"StateSpaceModels.isfitted","text":"isfitted(model::StateSpaceModel) -> Bool\n\nVerify if model is fitted, i.e., returns false if there is at least one NaN entry in the hyperparameters.\n\n\n\n\n\n","category":"function"},{"location":"manual/#Visualization","page":"Manual","title":"Visualization","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"Some user friendly plot recipes are defined using RecipesBase.jl. If you have any suggestions do not hesitate to post it as an issue.","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"using StateSpaceModels, CSV, DataFrames, Plots\n\nair_passengers = CSV.File(StateSpaceModels.AIR_PASSENGERS) |> DataFrame\nlog_air_passengers = log.(air_passengers.passengers)\n\nmodel = BasicStructural(log_air_passengers, 12)\nfit!(model)\nforec = forecast(model, 24)\n\nplot(model, forec; legend = :topleft)\nsavefig(\"plot.png\")\n\nnothing","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"(Image: )","category":"page"},{"location":"manual/#Datasets","page":"Manual","title":"Datasets","text":"","category":"section"},{"location":"manual/","page":"Manual","title":"Manual","text":"The package provides some datasets to illustrate the funtionalities and models. These datasets are stored as csv files and the path to these files can be obtained through their names as seen below. In the examples we illustrate the datasets using DataFrames.jl and CSV.jl","category":"page"},{"location":"manual/","page":"Manual","title":"Manual","text":"StateSpaceModels.AIR_PASSENGERS\nStateSpaceModels.FRONT_REAR_SEAT_KSI\nStateSpaceModels.INTERNET\nStateSpaceModels.NILE\nStateSpaceModels.RJ_TEMPERATURE\nStateSpaceModels.VEHICLE_FATALITIES\nStateSpaceModels.WHOLESALE_PRICE_INDEX\nStateSpaceModels.US_CHANGE","category":"page"},{"location":"manual/#StateSpaceModels.AIR_PASSENGERS","page":"Manual","title":"StateSpaceModels.AIR_PASSENGERS","text":"AIR_PASSENGERS\n\nThe absolute path for the AIR_PASSENGERS dataset stored inside StateSpaceModels.jl. This dataset provides monthly totals of a US airline passengers from 1949 to 1960.\n\nSee more on Airline passengers\n\nReferences\n\nhttps://www.stata-press.com/data/r12/ts.html\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.FRONT_REAR_SEAT_KSI","page":"Manual","title":"StateSpaceModels.FRONT_REAR_SEAT_KSI","text":"FRONT_REAR_SEAT_KSI\n\nThe absolute path for the FRONT_REAR_SEAT_KSI dataset stored inside StateSpaceModels.jl. This dataset provides the log of british people killed or serious injuried in road accidents accross UK.\n\nReferences\n\nCommandeur, Jacques J.F. & Koopman, Siem Jan, 2007. \"An Introduction to State Space Time  Series Analysis,\" OUP Catalogue, Oxford University Press (Chapter 3)\nhttp://staff.feweb.vu.nl/koopman/projects/ckbook/OxCodeAll.zip\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.INTERNET","page":"Manual","title":"StateSpaceModels.INTERNET","text":"INTERNET\n\nThe absolute path for the INTERNET dataset stored inside StateSpaceModels.jl. This dataset provides the number of users logged on to an Internet server each minute over 100 minutes.\n\nSee more on SARIMA... under contruction\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods:  Second Edition.\" Oxford University Press. (Chapter 9)\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.NILE","page":"Manual","title":"StateSpaceModels.NILE","text":"NILE\n\nThe absolute path for the NILE dataset stored inside StateSpaceModels.jl. This dataset provides measurements of the annual flow of the Nile river at Aswan from 1871 to 1970, in 10^8 m^3.\n\nSee more on Nile river annual flow\n\nReferences\n\nDurbin, James, & Siem Jan Koopman. (2012). \"Time Series Analysis by State Space Methods: Second Edition.\" Oxford University Press. (Chapter 2)\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.RJ_TEMPERATURE","page":"Manual","title":"StateSpaceModels.RJ_TEMPERATURE","text":"TODO\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.VEHICLE_FATALITIES","page":"Manual","title":"StateSpaceModels.VEHICLE_FATALITIES","text":"VEHICLE_FATALITIES\n\nThe absolute path for the VEHICLE_FATALITIES dataset stored inside StateSpaceModels.jl. This dataset provides the number of annual road traffic fatalities in Norway and Finland.\n\nSee more on Finland road traffic fatalities\n\nReferences\n\nCommandeur, Jacques J.F. & Koopman, Siem Jan, 2007. \"An Introduction to State Space Time  Series Analysis,\" OUP Catalogue, Oxford University Press (Chapter 3)\nhttp://staff.feweb.vu.nl/koopman/projects/ckbook/OxCodeAll.zip\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.WHOLESALE_PRICE_INDEX","page":"Manual","title":"StateSpaceModels.WHOLESALE_PRICE_INDEX","text":"WHOLESALE_PRICE_INDEX\n\nThe absolute path for the INTERNET dataset stored inside StateSpaceModels.jl. This dataset provides the number of users logged on to an Internet server each minute over 100 minutes.\n\nSee more on SARIMA... under contruction\n\nReferences\n\nhttps://www.stata.com/manuals13/tsSARIMA.pdf\n\n\n\n\n\n","category":"constant"},{"location":"manual/#StateSpaceModels.US_CHANGE","page":"Manual","title":"StateSpaceModels.US_CHANGE","text":"US_CHANGE\n\nPercentage changes in quarterly personal consumption expenditure, personal disposable income, production, savings and the unemployment rate for the US, 1960 to 2016.\n\nFederal Reserve Bank of St Louis.\n\nReferences\n\nHyndman, Rob J., Athanasopoulos, George. \"Forecasting: Principles and Practice\"\n\n\n\n\n\n","category":"constant"},{"location":"","page":"Home","title":"Home","text":"<div style=\"width:100%; height:150px;border-width:4px;border-style:solid;padding-top:25px;\n        border-color:#000;border-radius:10px;text-align:center;background-color:#99DDFF;\n        color:#000\">\n    <h3 style=\"color: black;\">Star us on GitHub!</h3>\n    <a class=\"github-button\" href=\"https://github.com/LAMPSPUC/StateSpaceModels.jl\" data-icon=\"octicon-star\" data-size=\"large\" data-show-count=\"true\" aria-label=\"Star LAMPSPUC/StateSpaceModels.jl on GitHub\" style=\"margin:auto\">Star</a>\n    <script async defer src=\"https://buttons.github.io/buttons.js\"></script>\n</div>","category":"page"},{"location":"#StateSpaceModels.jl-Documentation","page":"Home","title":"StateSpaceModels.jl Documentation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"StateSpaceModels.jl is a package for modeling, forecasting, and simulating time series in a state-space framework. Implementations were made based on the book \"Time Series Analysis by State Space Methods\" (2012) by James Durbin and Siem Jan Koopman. The notation of the variables in the code also aims to follow the book.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package is registered so you can simply add it using Julia's Pkg manager:","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg> add StateSpaceModels","category":"page"},{"location":"#Citing-StateSpaceModels.jl","page":"Home","title":"Citing StateSpaceModels.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you use StateSpaceModels.jl in your work, we kindly ask you to cite the following paper (pdf):","category":"page"},{"location":"","page":"Home","title":"Home","text":"@article{SaavedraBodinSouto2019,\ntitle={StateSpaceModels.jl: a Julia Package for Time-Series Analysis in a State-Space Framework},\nauthor={Raphael Saavedra and Guilherme Bodin and Mario Souto},\njournal={arXiv preprint arXiv:1908.01757},\nyear={2019}\n}","category":"page"}]
}
